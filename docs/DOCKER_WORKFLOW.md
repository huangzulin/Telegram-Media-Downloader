# Docker Build and Push Workflow

## ç®€ä»‹
è¿™æ˜¯ä¸€ä¸ªç²¾ç®€çš„GitHub Actionså·¥ä½œæµï¼Œä¸“é—¨ç”¨äºæ„å»ºå’Œæ¨é€Dockeré•œåƒåˆ°DockerHubã€‚

## é…ç½®è¦æ±‚

### 1. GitHub Secrets
åœ¨ä»“åº“è®¾ç½®ä¸­æ·»åŠ ä»¥ä¸‹Secretsï¼š

```
DOCKERHUB_USERNAME=your_dockerhub_username
DOCKERHUB_TOKEN=your_dockerhub_access_token
```

### 2. è§¦å‘æ–¹å¼
- æ¨é€åˆ° `main` 
- åˆ›å»ºæ ‡ç­¾ï¼ˆå¦‚ `v1.0.0`ï¼‰
- æ‰‹åŠ¨è§¦å‘ï¼ˆé€šè¿‡GitHubç•Œé¢ï¼‰

## åŠŸèƒ½ç‰¹ç‚¹

### ğŸ³ å¤šå¹³å°æ„å»º
- æ”¯æŒ `linux/amd64` å’Œ `linux/arm64` å¹³å°
- ä½¿ç”¨Docker Buildxè¿›è¡Œå¤šæ¶æ„æ„å»º

### ğŸ”§ è‡ªåŠ¨æ ‡ç­¾ç®¡ç†
- åˆ†æ”¯æ¨é€ï¼šä½¿ç”¨åˆ†æ”¯åç§°ä½œä¸ºæ ‡ç­¾
- æ ‡ç­¾æ¨é€ï¼šä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ ‡ç­¾
- é»˜è®¤åˆ†æ”¯ï¼šé¢å¤–æ·»åŠ  `latest` æ ‡ç­¾

### âš¡ æ„å»ºä¼˜åŒ–
- ä½¿ç”¨GitHub Actionsç¼“å­˜åŠ é€Ÿæ„å»º
- å¤šé˜¶æ®µæ„å»ºå‡å°‘æœ€ç»ˆé•œåƒå¤§å°

## ä½¿ç”¨æ–¹æ³•

### 1. æ¨é€ä»£ç è§¦å‘æ„å»º
```bash
git push origin main
```

### 2. å‘å¸ƒæ–°ç‰ˆæœ¬
```bash
git tag v1.0.0
git push origin v1.0.0
```

### 3. æŸ¥çœ‹æ„å»ºçŠ¶æ€
- è®¿é—®ä»“åº“çš„ "Actions" é€‰é¡¹å¡
- æŸ¥çœ‹å·¥ä½œæµè¿è¡ŒçŠ¶æ€å’Œæ—¥å¿—

## é•œåƒæ ‡ç­¾è§„åˆ™

| è§¦å‘æ–¹å¼        | ç”Ÿæˆæ ‡ç­¾     | ç¤ºä¾‹                                           |
| --------------- | ------------ | ---------------------------------------------- |
| mainåˆ†æ”¯æ¨é€    | `main`       | `huangzulin/telegram-media-downloader:main`    |
| developåˆ†æ”¯æ¨é€ | `develop`    | `huangzulin/telegram-media-downloader:develop` |
| æ ‡ç­¾ v1.0.0     | `1.0.0`, `1` | `huangzulin/telegram-media-downloader:1.0.0`   |
| é»˜è®¤åˆ†æ”¯        | `latest`     | `huangzulin/telegram-media-downloader:latest`  |

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **æƒé™é”™è¯¯**: æ£€æŸ¥DOCKERHUB_TOKENæ˜¯å¦æœ‰æ­£ç¡®çš„æ¨é€æƒé™
2. **æ„å»ºå¤±è´¥**: æŸ¥çœ‹Actionsæ—¥å¿—ä¸­çš„å…·ä½“é”™è¯¯ä¿¡æ¯
3. **æ ‡ç­¾å†²çª**: ç¡®ä¿æ ‡ç­¾åç§°å”¯ä¸€ï¼Œé¿å…é‡å¤æ¨é€

### æŸ¥çœ‹æ—¥å¿—
åœ¨GitHub Actionsé¡µé¢æ‰¾åˆ°å¯¹åº”çš„è¿è¡Œè®°å½•ï¼Œå±•å¼€å„ä¸ªæ­¥éª¤æŸ¥çœ‹è¯¦ç»†è¾“å‡ºã€‚